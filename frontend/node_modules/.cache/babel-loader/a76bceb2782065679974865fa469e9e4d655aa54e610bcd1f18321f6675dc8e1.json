{"ast":null,"code":"var _jsxFileName = \"/usr/local/bin/yousub/frontend/src/index.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Head from './components/Head';\nimport MenuBar from './components/MenuBar';\nimport VideoPlayer from './components/VideoPlayer';\nimport TryHistory from './components/TryHistory';\nimport VideoHistory from './components/VideoHistory';\nimport TextInput from './components/TextInput';\nimport Login from './components/Login';\nimport Source from './components/Source';\nimport './css/index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [showVideoHistory, setShowVideoHistory] = useState(false);\n  const [username, setUsername] = useState('');\n  const [videoLink, setVideoLink] = useState('');\n  const [videoSource, setVideoSource] = useState('');\n  function toggleVideoHistory() {\n    this.setState(prevState => ({\n      showVideoHistory: !prevState.showVideoHistory\n    }));\n  }\n  ;\n  function logout() {\n    setLoggedIn(false);\n    setShowVideoHistory(false);\n    setUsername('');\n    setVideoLink('');\n    setVideoSource('');\n  }\n  function handleRegister(username, password) {\n    if (username === null || password === null || username === '' || password === '') {\n      return;\n    }\n    const data = {\n      username: username,\n      password: password\n    };\n    fetch('https://yousub-api.nassing.tk/register', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(response => {\n      if (response.ok) {\n        response.text().then(text => {\n          if (text === \"0\") {\n            setLoggedIn(true);\n            setUsername(username);\n          } else if (text === \"1\") {\n            //Error\n          }\n        });\n      } else {\n        throw new Error('Error adding element');\n      }\n    }).catch(error => console.log(error.message));\n  }\n  function getNewVideo() {\n    if (username === null || username === '') {\n      return;\n    }\n    const data = {\n      username: username\n    };\n    fetch('https://yousub-api.nassing.tk/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(response => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        throw new Error('Error getting video');\n      }\n    }).then(data => {\n      videoLink.setState(data.link);\n      videoSource.setState(data.source);\n    }).catch(error => console.log(error.message));\n  }\n  ;\n  function handleLogin(username, password) {\n    if (username === null || password === null || username === '' || password === '') {\n      return;\n    }\n    const data = {\n      username: username,\n      password: password\n    };\n    fetch('https://yousub-api.nassing.tk/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(response => {\n      if (response.ok) {\n        response.text().then(text => {\n          console.log(text);\n          if (text === \"0\") {\n            this.setState({\n              loggedIn: true,\n              username: username\n            });\n          } else if (text === \"1\") {\n            //Error\n          }\n        });\n      } else {\n        throw new Error('Error adding element');\n      }\n    }).catch(error => console.log(error.message));\n  }\n  if (!loggedIn) {\n    return /*#__PURE__*/_jsxDEV(Login, {\n      handleLogin: handleLogin,\n      handleRegister: handleRegister\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MenuBar, {\n      toggleVideoHistory: toggleVideoHistory,\n      logout: logout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(VideoPlayer, {\n      getNewVideo: getNewVideo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TryHistory, {\n      videoLink: videoLink\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n      videoLink: videoLink\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Source, {\n      sourceLink: videoSource\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), showVideoHistory ? /*#__PURE__*/_jsxDEV(VideoHistory, {\n      toggleVideoHistory: toggleVideoHistory\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 27\n    }, this) : null]\n  }, void 0, true);\n}\n_s(App, \"lG2VrPkshIrBA5eOE7Mbns+1uOM=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Head","MenuBar","VideoPlayer","TryHistory","VideoHistory","TextInput","Login","Source","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","loggedIn","setLoggedIn","showVideoHistory","setShowVideoHistory","username","setUsername","videoLink","setVideoLink","videoSource","setVideoSource","toggleVideoHistory","setState","prevState","logout","handleRegister","password","data","fetch","method","headers","body","JSON","stringify","then","response","ok","text","Error","catch","error","console","log","message","getNewVideo","json","link","source","handleLogin","fileName","_jsxFileName","lineNumber","columnNumber","children","sourceLink","_c","$RefreshReg$"],"sources":["/usr/local/bin/yousub/frontend/src/index.js"],"sourcesContent":["import React, {useState} from 'react';\n\nimport Head from './components/Head';\nimport MenuBar from './components/MenuBar';\nimport VideoPlayer from './components/VideoPlayer';\nimport TryHistory from './components/TryHistory';\nimport VideoHistory from './components/VideoHistory';\nimport TextInput from './components/TextInput';\nimport Login from './components/Login';\nimport Source from './components/Source';\n\nimport './css/index.css';\n\nexport default function App() {\n\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [showVideoHistory, setShowVideoHistory] = useState(false);\n  const [username, setUsername] = useState('');\n  const [videoLink, setVideoLink] = useState('');\n  const [videoSource, setVideoSource] = useState('');\n\n  function toggleVideoHistory() {\n    this.setState((prevState) => ({\n      showVideoHistory: !prevState.showVideoHistory,\n    }));\n  };\n\n  function logout() {\n    setLoggedIn(false);\n    setShowVideoHistory(false);\n    setUsername('');\n    setVideoLink('');\n    setVideoSource('');\n  }\n\n  function handleRegister (username, password) {\n\n    if(username === null || password === null || username === '' || password === '')\n    {\n      return ;\n    }\n\n    const data = {\n      username: username,\n      password: password\n    };\n    \n    fetch('https://yousub-api.nassing.tk/register', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n    .then(response => {\n      if (response.ok) {\n        response.text().then(text => {\n          if(text === \"0\") {\n            setLoggedIn(true);\n            setUsername(username);    \n          }\n          else if(text === \"1\")\n          {\n            //Error\n          }\n        })\n      } else {\n        throw new Error('Error adding element');\n      }\n    })\n    .catch(error => console.log(error.message));\n  }\n\n  function getNewVideo() {\n    if (username === null || username === '') {\n      return;\n    }\n\n    const data = {\n      username: username\n    };\n\n    fetch('https://yousub-api.nassing.tk/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n      .then(response => {\n        if (response.ok) {\n          return response.json();\n        } else {\n          throw new Error('Error getting video');\n        }\n      })\n      .then(data => {\n        videoLink.setState(data.link)\n        videoSource.setState(data.source);\n      })\n      .catch(error => console.log(error.message));\n  };\n\n  function handleLogin(username, password) {\n\n    if(username === null || password === null || username === '' || password === '')\n    {\n      return ;\n    }\n\n    const data = {\n      username: username,\n      password: password\n    };\n    \n    fetch('https://yousub-api.nassing.tk/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n    .then(response => {\n      if (response.ok) {\n        response.text().then(text => {\n          console.log(text);\n          if(text === \"0\") {\n            this.setState({\n              loggedIn: true,\n              username: username,\n            });        \n          }\n          else if(text === \"1\")\n          {\n            //Error\n          }\n        })\n      } else {\n        throw new Error('Error adding element');\n      }\n    })\n    .catch(error => console.log(error.message));\n  }  \n\n  if (!loggedIn) {\n    return <Login handleLogin={handleLogin} handleRegister={handleRegister} />;\n  }\n\n  return (\n    <>\n      <Head />\n      <MenuBar toggleVideoHistory={toggleVideoHistory} logout={logout}/>\n      <VideoPlayer getNewVideo={getNewVideo} />\n      <TryHistory videoLink={videoLink}/>\n      <TextInput videoLink={videoLink}/>\n      <Source sourceLink={videoSource}/>\n      {showVideoHistory ? <VideoHistory toggleVideoHistory={toggleVideoHistory}/> : null}\n    </>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}